<!Doctype html>

<head>
  <meta charset="utf-8">
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="css/styles.css">
  <title>Movies App API</title>
</head>

<body>

  <h1>Movies API</h1>
  <p class="sub-header"> allows users to search movie database by movies, directors and genres. Users can sign up and create their own favorites list</p>

  <table>
    <thead>
      <tr>
        <th width=20%>Request</th>
        <th width=10%>URL</th>
        <th width=10%>HTTP Method</th>
        <th width=30%>Request body data format</th>
        <th width=30%>Response body data format</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Get list of all movies</td>
        <td>/movies</td>
        <td>GET</td>
        <td>None</td>
        <td>JSON object including data about movies</td>
      </tr>
      <tr>
        <td>Get info about a movie based on title</td>
        <td>/movies/[title]</td>
        <td>GET</td>
        <td>None</td>
        <td>JSON object including data about a movie based on title (title, director, genre).
          Example: <br><span>{ "_id" : ObjectId("5e4962305f0c94b3f38595cc"), "title" : "Fight Club", "description" : "An insomniac office ... ", "director" : { "name" : "David Fincher", "bio" : "is an American director...", "birth" : "28.08.1962" }, "genre" : { "name" : "Drama", "description" : "Within film, television ..." }, "imageURL" : "/img/movie.jpg", "featured" : false }</span></td>
      </tr>
<!-- probably not a good idea to let people add/delete movies

  -->
      <tr>
        <td>Get information about chosen genre</td>
        <td>/genres/[name]</td>
        <td>GET</td>
        <td>None</td>
        <td>JSON object – genre name and description. Example: {"name": "road", "description": "A road movie is a film genre in which the main characters leave home on a road trip, typically altering the perspective from their everyday lives."}</td>
      </tr>
      <tr>
        <td>Get information about chosen director</td>
        <td>/directors/[name]</td>
        <td>GET</td>
        <td>None</td>
        <td>JSON object – director name, date of birth and short bio. Example:{"name": "David Lynch", "birth": "", "death": "", "bio": ""}</td>
      </tr>
      <tr>
        <td>Get information about user</td>
        <td>/users/[username]</td>
        <td>GET</td>
        <td>None</td>
        <td>JSON object holding user data, including ID.<br><span> { "_id" : ObjectId("5e49a4cece6f8e27e88042e7"), "username" : "user1", "password" : "password1", "email" : "email1@test.com", "birthday" : ISODate("1994-02-17T00:00:00Z")}</td>
      </tr>
      <tr>
        <td>Show user favorites ID</td>
        <td>/users/[username]/movies/</td>
        <td>GET</td>
        <td>None</td>
        <td>JSON object containing array with favorite moive IDs. Example: <br><span>["5e4961715f0c94b3f38595c9", "5e4961605f0c94b3f38595c8"]</span></td>
      </tr>
      <tr>
        <td>Add user – open account</td>
        <td>/users</td>
        <td>POST</td>
        <td>JSON object holding new user data. Required: username, password and email.<br><span> {username: 'user1', password: 'password1', email: 'email1@test.com', birthday: new Date('1994-02-17')}</span></td>
        <td>JSON object holding user data, including ID.<br><span> { "_id" : ObjectId("5e49a4cece6f8e27e88042e7"), "username" : "user1", "password" : "password1", "email" : "email1@test.com", "birthday" : ISODate("1994-02-17T00:00:00Z")}</span></td>
      </tr>
      <tr>
        <td>Add movie to favorite list</td>
        <td>/users/[username]/movies/[id]</td>
        <td>POST</td>
        <td>JSON object data about the movie. Example: <br><span>{"_id": "1"}</span></td>
        <td>A text message – added to favorites</td>
      </tr>
      <tr>
        <td>Update user data</td>
        <td>/users/[username]</td>
        <td>PUT</td>
        <td>JSON object with updated user info. Example:<br><span> {"username": "userX", "password": "passwordX", "email": "userX@email.com", "birthday": "1980-07-02"}</span></td>
        <td>text message indicating the user's information was updated</td>
      </tr>
      <tr>
        <td>Remove user</td>
        <td>/users/[id]</td>
        <td>DELETE</td>
        <td>None</td>
        <td>A text message – removed from favorites</td>
      </tr>
      <tr>
        <td>Remove from favorites list</td>
        <td>/users/[username]/movies/[id]</td>
        <td>DELETE</td>
        <td>None</td>
        <td>A text message – removed from favorites</td>
      </tr>
      <tr>
        <th class="sub-header" colspan=5>Admin functions - best not to enable for users</th>
      </tr>
      <tr>
        <td>Add new movie to the database</td>
        <td>/movies</td>
        <td>POST</td>
        <td><span>{"title": "Joker", "description": "Forever alone in a crowd...", "director": "Todd Phillips", "imageURL" : "/img/poster.jpg"}</span></td>
        <td><span>{ "director": { "name": "Todd Phillips"}, "actors": [], "_id": "5e4aaa689661dd0515bd4a5e", "title": "Joker", "description": "Forever alone in a crowd…", "imageURL": "/img/poster.jpg", "__v": 0}</span></td>
      </tr>
      <tr>
        <td>Delete movie from database</td>
        <td>/movies/[id]</td>
        <td>DELETE</td>
        <td>None</td>
        <td>Message – movie removed</td>
      </tr>
    </tbody>
  </table>


</body>
